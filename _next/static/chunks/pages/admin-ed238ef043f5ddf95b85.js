(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{9656:function(e,r,n){"use strict";function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],t=!0,i=!1,c=void 0;try{for(var s,h=e[Symbol.iterator]();!(t=(s=h.next()).done)&&(n.push(s.value),!r||n.length!==r);t=!0);}catch(o){i=!0,c=o}finally{try{t||null==h.return||h.return()}finally{if(i)throw c}}return n}}(e,r)||function(e,r){if(e){if("string"===typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(r),n.d(r,{default:function(){return l}});var c=n(5893),s=n(1664),h=n(8669),o=n(6585),d=n(7294);function l(){switch((0,o.Z)()){case o.t.Ok:return(0,c.jsx)(x,{});case o.t.Forbidden:return(0,c.jsx)(u,{});case o.t.Unauthenticated:return(0,c.jsx)(j,{});case o.t.Unknown:return(0,c.jsx)(a,{})}}function a(){return(0,c.jsxs)("main",{children:[(0,c.jsx)("h1",{children:"Loading..."}),(0,c.jsx)("noscript",{children:"This page requires javascript to function for authentication purposes."})]})}function u(){return(0,c.jsxs)("main",{children:[(0,c.jsx)("h1",{children:"You are forbidden from accessing this resource. You may be logged into the wrong account."}),(0,c.jsx)(s.default,{href:"".concat(h.mL,"/auth/logout"),children:(0,c.jsx)("a",{children:"Logout"})})]})}function j(){return(0,c.jsx)("main",{children:(0,c.jsx)(s.default,{href:"".concat(h.mL,"/auth/login"),children:(0,c.jsx)("a",{children:"Login"})})})}function x(){var e=i(function(e){var r=(0,d.useState)("loading"),n=r[0],t=r[1],i=(0,d.useState)(0),c=i[0],s=i[1];if(void 0!==e)throw"todo";return(0,d.useEffect)((function(){fetch("".concat(h.mL,"/repairs/all"),{method:"GET",credentials:"include"}).then((function(e){return e.json().then((function(e){t(e)}))})).catch((function(e){console.error("Failed to fetch repairs: ",e),t("error")}))}),[c]),[n,function(){return s(c+1)}]}(),2),r=e[0],n=e[1];return(0,c.jsxs)("main",{children:[(0,c.jsx)(s.default,{href:"".concat(h.mL,"/auth/logout"),children:(0,c.jsx)("a",{children:"Logout"})}),(0,c.jsx)("button",{onClick:function(){return n()},children:"Refresh"}),(0,c.jsx)(f,{requests:r})]})}function f(e){var r=e.requests;return"error"===r?(0,c.jsx)("h1",{children:"ERROR"}):"loading"===r?(0,c.jsx)("h1",{children:"Loading"}):(0,c.jsxs)("table",{children:[(0,c.jsxs)("thead",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Request"}),(0,c.jsx)("th",{children:"User"}),(0,c.jsx)("th",{children:"User"}),(0,c.jsx)("th",{children:"User"}),(0,c.jsx)("th",{children:"User"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"ID"}),(0,c.jsx)("th",{children:"Name"}),(0,c.jsx)("th",{children:"Phone"}),(0,c.jsx)("th",{children:"Email"}),(0,c.jsx)("th",{children:"Address"}),(0,c.jsx)("th",{children:"Make"}),(0,c.jsx)("th",{children:"Model"}),(0,c.jsx)("th",{children:"Storage"}),(0,c.jsx)("th",{children:"Color"}),(0,c.jsx)("th",{children:"Serial"}),(0,c.jsx)("th",{children:"IMEI"})]})]}),(0,c.jsx)("tbody",{children:r.map((function(e,r){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.id}),(0,c.jsx)("td",{children:e.user.name}),(0,c.jsx)("td",{children:(0,c.jsx)(s.default,{href:"tel:".concat(e.user.phone),children:(0,c.jsx)("a",{children:e.user.phone})})}),(0,c.jsx)("td",{children:(0,c.jsx)(s.default,{href:"mailto:".concat(e.user.email),children:(0,c.jsx)("a",{children:e.user.email})})}),(0,c.jsx)("td",{children:e.user.address}),(0,c.jsx)("td",{children:e.device.make}),(0,c.jsx)("td",{children:e.device.model}),(0,c.jsx)("td",{children:e.device.storage}),(0,c.jsx)("td",{children:e.device.color}),(0,c.jsx)("td",{children:e.device.serial}),(0,c.jsx)("td",{children:e.device.imei})]},r)}))})]})}},2347:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n(9656)}])}},function(e){e.O(0,[774,888,179],(function(){return r=2347,e(e.s=r);var r}));var r=e.O();_N_E=r}]);