(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{9656:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,c=void 0;try{for(var s,h=e[Symbol.iterator]();!(r=(s=h.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(l){i=!0,c=l}finally{try{r||null==h.return||h.return()}finally{if(i)throw c}}return t}}(e,n)||function(e,n){if(e){if("string"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.r(n),t.d(n,{default:function(){return o}});var c=t(5893),s=t(1664),h=t(1337),l=t(6585),d=t(7294);function o(){switch((0,l.Z)()){case l.t.Ok:return(0,c.jsx)(x,{});case l.t.Forbidden:return(0,c.jsx)(u,{});case l.t.Unauthenticated:return(0,c.jsx)(j,{});case l.t.Unknown:return(0,c.jsx)(a,{})}}function a(){return(0,c.jsxs)("main",{children:[(0,c.jsx)("h1",{children:"Loading..."}),(0,c.jsx)("noscript",{children:"This page requires javascript to function for authentication purposes."})]})}function u(){return(0,c.jsxs)("main",{children:[(0,c.jsx)("h1",{children:"You are forbidden from accessing this resource. You may be logged into the wrong account."}),(0,c.jsx)(s.default,{href:"".concat(h.mL,"/auth/logout"),children:(0,c.jsx)("a",{children:"Logout"})})]})}function j(){return(0,c.jsx)("main",{children:(0,c.jsx)(s.default,{href:"".concat(h.mL,"/auth/login"),children:(0,c.jsx)("a",{children:"Login"})})})}function x(){var e=i(function(e){var n=(0,d.useState)("loading"),t=n[0],r=n[1],i=(0,d.useState)(0),c=i[0],s=i[1];if(void 0!==e)throw"todo";return(0,d.useEffect)((function(){fetch("".concat(h.mL,"/repairs/all"),{method:"GET",credentials:"include"}).then((function(e){return e.json().then((function(e){r(e)}))})).catch((function(e){console.error("Failed to fetch repairs: ",e),r("error")}))}),[c]),[t,function(){return s(c+1)}]}(),2),n=e[0],t=e[1];return(0,c.jsxs)("main",{children:[(0,c.jsx)(s.default,{href:"".concat(h.mL,"/auth/logout"),children:(0,c.jsx)("a",{children:"Logout"})}),(0,c.jsx)("button",{onClick:function(){return t()},children:"Refresh"}),(0,c.jsx)(f,{requests:n})]})}function f(e){var n=e.requests;return"error"===n?(0,c.jsx)("h1",{children:"ERROR"}):"loading"===n?(0,c.jsx)("h1",{children:"Loading"}):(0,c.jsxs)("table",{children:[(0,c.jsxs)("thead",{children:[(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Request"}),(0,c.jsx)("th",{children:"Client"}),(0,c.jsx)("th",{children:"Client"}),(0,c.jsx)("th",{children:"Client"}),(0,c.jsx)("th",{children:"Client"}),(0,c.jsx)("th",{children:"Client"}),(0,c.jsx)("th",{children:"Client"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Device"}),(0,c.jsx)("th",{children:"Issue"}),(0,c.jsx)("th",{children:"Issue"})]}),(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"ID"}),(0,c.jsx)("th",{children:"Name"}),(0,c.jsx)("th",{children:"Phone"}),(0,c.jsx)("th",{children:"Email"}),(0,c.jsx)("th",{children:"Address"}),(0,c.jsx)("th",{children:"City"}),(0,c.jsx)("th",{children:"Zip"}),(0,c.jsx)("th",{children:"Make"}),(0,c.jsx)("th",{children:"Model"}),(0,c.jsx)("th",{children:"Storage"}),(0,c.jsx)("th",{children:"Color"}),(0,c.jsx)("th",{children:"Serial"}),(0,c.jsx)("th",{children:"IMEI"}),(0,c.jsx)("th",{children:"Description"}),(0,c.jsx)("th",{children:"Backed Up?"})]})]}),(0,c.jsx)("tbody",{children:n.map((function(e,n){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.id}),(0,c.jsx)("td",{children:e.client.name}),(0,c.jsx)("td",{children:(0,c.jsx)(s.default,{href:"tel:".concat(e.client.phone),children:(0,c.jsx)("a",{children:e.client.phone})})}),(0,c.jsx)("td",{children:(0,c.jsx)(s.default,{href:"mailto:".concat(e.client.email),children:(0,c.jsx)("a",{children:e.client.email})})}),(0,c.jsx)("td",{children:e.client.address}),(0,c.jsx)("td",{children:e.client.city}),(0,c.jsx)("td",{children:e.client.zip}),(0,c.jsx)("td",{children:e.device.make}),(0,c.jsx)("td",{children:e.device.model}),(0,c.jsx)("td",{children:e.device.storage}),(0,c.jsx)("td",{children:e.device.color}),(0,c.jsx)("td",{children:e.device.serial}),(0,c.jsx)("td",{children:e.device.imei}),(0,c.jsx)("td",{children:e.issue.description}),(0,c.jsx)("td",{children:e.issue.backup})]},n)}))})]})}},2347:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(9656)}])}},function(e){e.O(0,[774,888,179],(function(){return n=2347,e(e.s=n);var n}));var n=e.O();_N_E=n}]);