(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{3391:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,c=void 0;try{for(var s,h=e[Symbol.iterator]();!(r=(s=h.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(l){i=!0,c=l}finally{try{r||null==h.return||h.return()}finally{if(i)throw c}}return t}}(e,n)||function(e,n){if(e){if("string"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(n,{Z:function(){return i}})},2210:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r=t(3391),i=t(5893),c=t(1664),s=t(1337),h=t(6585),l=t(7294);function d(){switch((0,h.Z)()){case h.t.Ok:return(0,i.jsx)(j,{});case h.t.Forbidden:return(0,i.jsx)(a,{});case h.t.Unauthenticated:return(0,i.jsx)(u,{});case h.t.Unknown:return(0,i.jsx)(o,{})}}function o(){return(0,i.jsxs)("main",{children:[(0,i.jsx)("h1",{children:"Loading..."}),(0,i.jsx)("noscript",{children:"This page requires javascript to function for authentication purposes."})]})}function a(){return(0,i.jsxs)("main",{children:[(0,i.jsx)("h1",{children:"You are forbidden from accessing this resource. You may be logged into the wrong account."}),(0,i.jsx)(c.default,{href:"".concat(s.mL,"/auth/logout"),children:(0,i.jsx)("a",{children:"Logout"})})]})}function u(){return(0,i.jsx)("main",{children:(0,i.jsx)(c.default,{href:"".concat(s.mL,"/auth/login"),children:(0,i.jsx)("a",{children:"Login"})})})}function j(){var e=function(e){var n=(0,l.useState)("loading"),t=n[0],r=n[1],i=(0,l.useState)(0),c=i[0],h=i[1];if(void 0!==e)throw"todo";return(0,l.useEffect)((function(){fetch("".concat(s.mL,"/repairs/all"),{method:"GET",credentials:"include"}).then((function(e){return e.json().then((function(e){r(e)}))})).catch((function(e){console.error("Failed to fetch repairs: ",e),r("error")}))}),[c]),[t,function(){return h(c+1)}]}(),n=(0,r.Z)(e,2),t=n[0],h=n[1];return(0,i.jsxs)("main",{children:[(0,i.jsx)(c.default,{href:"".concat(s.mL,"/auth/logout"),children:(0,i.jsx)("a",{children:"Logout"})}),(0,i.jsx)("button",{onClick:function(){return h()},children:"Refresh"}),(0,i.jsx)(x,{requests:t})]})}function x(e){var n=e.requests;return"error"===n?(0,i.jsx)("h1",{children:"ERROR"}):"loading"===n?(0,i.jsx)("h1",{children:"Loading"}):(0,i.jsxs)("table",{children:[(0,i.jsxs)("thead",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Request"}),(0,i.jsx)("th",{children:"Client"}),(0,i.jsx)("th",{children:"Client"}),(0,i.jsx)("th",{children:"Client"}),(0,i.jsx)("th",{children:"Client"}),(0,i.jsx)("th",{children:"Client"}),(0,i.jsx)("th",{children:"Client"}),(0,i.jsx)("th",{children:"Device"}),(0,i.jsx)("th",{children:"Device"}),(0,i.jsx)("th",{children:"Device"}),(0,i.jsx)("th",{children:"Device"}),(0,i.jsx)("th",{children:"Device"}),(0,i.jsx)("th",{children:"Device"}),(0,i.jsx)("th",{children:"Issue"}),(0,i.jsx)("th",{children:"Issue"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"ID"}),(0,i.jsx)("th",{children:"Name"}),(0,i.jsx)("th",{children:"Phone"}),(0,i.jsx)("th",{children:"Email"}),(0,i.jsx)("th",{children:"Address"}),(0,i.jsx)("th",{children:"City"}),(0,i.jsx)("th",{children:"Zip"}),(0,i.jsx)("th",{children:"Make"}),(0,i.jsx)("th",{children:"Model"}),(0,i.jsx)("th",{children:"Storage"}),(0,i.jsx)("th",{children:"Color"}),(0,i.jsx)("th",{children:"Serial"}),(0,i.jsx)("th",{children:"IMEI"}),(0,i.jsx)("th",{children:"Description"}),(0,i.jsx)("th",{children:"Backed Up?"})]})]}),(0,i.jsx)("tbody",{children:n.map((function(e,n){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.id}),(0,i.jsx)("td",{children:e.client.name}),(0,i.jsx)("td",{children:(0,i.jsx)(c.default,{href:"tel:".concat(e.client.phone),children:(0,i.jsx)("a",{children:e.client.phone})})}),(0,i.jsx)("td",{children:(0,i.jsx)(c.default,{href:"mailto:".concat(e.client.email),children:(0,i.jsx)("a",{children:e.client.email})})}),(0,i.jsx)("td",{children:e.client.address}),(0,i.jsx)("td",{children:e.client.city}),(0,i.jsx)("td",{children:e.client.zip}),(0,i.jsx)("td",{children:e.device.make}),(0,i.jsx)("td",{children:e.device.model}),(0,i.jsx)("td",{children:e.device.storage}),(0,i.jsx)("td",{children:e.device.color}),(0,i.jsx)("td",{children:e.device.serial}),(0,i.jsx)("td",{children:e.device.imei}),(0,i.jsx)("td",{children:e.issue.description}),(0,i.jsx)("td",{children:e.issue.backup})]},n)}))})]})}},2347:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(2210)}])}},function(e){e.O(0,[774,888,179],(function(){return n=2347,e(e.s=n);var n}));var n=e.O();_N_E=n}]);